// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model Post {
  id        String   @id @default(auto()) @map("_id") @db.ObjectId
  body      String?
  photo     String?
  userId    String   @db.ObjectId
  user      User     @relation(fields: [userId], references: [id])
  createdAt DateTime @default(now())
  Bet       Bet?     @relation(fields: [betId], references: [id])
  betId     String?  @db.ObjectId
}

model User {
  id            String    @id @default(auto()) @map("_id") @db.ObjectId
  email         String    @unique
  name          String
  username      String
  password      String
  Post          Post[]
  totalBets     Int       @default(0)
  createdAt     DateTime  @default(now())
  updatedAt     DateTime  @updatedAt
  emailVerified DateTime?
}

model Bet {
  id         String  @id @default(auto()) @map("_id") @db.ObjectId
  league     String
  status     String
  homeTeam   String
  awayTeam   String
  name       String
  location   String
  favorite   Boolean
  odds       Int
  type       String
  value      Float?
  thoughts   String
  wager      Float?
  payout     Float?
  confidence String
  Post       Post[]
}
